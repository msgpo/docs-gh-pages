<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="format-detection" content="telephone=no">
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <meta name="description" content=" ">

    <title>
	    AGL Developer Site - 
        
            
                Usage  -
            
        
    </title>

    <link rel="SHORTCUT ICON" href="/guppy/favicon.ico"/>

    

    
    

    <link rel="canonical" href="http://docs.automotivelinux.org/guppy/docs/devguides/en/dev/reference/ctrler/Usage.html">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/guppy/static/styles/main.css">
    <link rel="stylesheet" type="text/css" href="/guppy/static/styles/syntax.css">
    <!-- Algolia Search CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />

    <!-- Fonts -->
    <!-- For attribution information, see www/attributions.html -->
    <link href='https://fonts.googleapis.com/css?family=Raleway:700,400,300,700italic,400italic,300italic' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- <script defer type="text/javascript">
        var disqus_developer = ; // this would set it to developer mode
    </script>-->

    <!-- JS -->
    <script defer type="text/javascript" src="/guppy/static/js/lib/jquery-2.1.1.min.js"></script>
    <script defer type="text/javascript" src="/guppy/static/js/lib/bootstrap.min.js"></script>
<!--    <script defer type="text/javascript" src="/guppy/static/js/lib/ZeroClipboard.js"></script>-->

    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{}', 'auto');
    ga('send', 'pageview');
</script>

</head>

<body>
    <header>
    <a class="scroll-point pt-top" name="top"></a>
    <nav class="navbar navbar-inverse navbar-fixed-top" style="background-color: #054458;">
        <div class="container-fluid">
            <div class="navbar-header">
                <a class="navbar-brand" href="/"><img id="logo_top" src="/guppy/static/img/branding/agl_title_793x211.png"/></a>
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <div class="nav_bar_left">
                    <ul class="nav navbar-nav">
                        <li >
                            <a href="/guppy/docs/getting_started/en/dev/">Getting Started</a>
                        </li>
                                                
                        <li >
                            <a href="/guppy/docs/architecture/en/dev/">Architecture Guides</a>
                        </li>

                        <li >
                            <a href="/guppy/docs/hardware/en/dev/">Hardware Support</a>
                        </li>

                        <li >
                            <a href="/guppy/docs/devguides/en/dev/">Developer Guides</a>
                        </li>
                        
                        <li >
                            <a href="/guppy/docs/apis_services/en/dev/">APIs & Services</a>
                        </li>
					</ul>
				</div>
			    <div class="nav_bar_center">
                    <ul class="nav navbar-nav" style="margin-left: 5%;">
                        <li>
                        <a style="color:red;"><b>Guppy release documentation</b></a>
                        </li>
                    </ul>
                </div>
                <div class="nav_bar_right">
                    <ul class="nav navbar-nav">

                        <li >
                            <a href="/guppy/contribute">Contribute</a>
                        </li>
                        <li>
                            <form class="navbar-form navbar-right" id="header-search-form" role="search">
                                <div class="input-group">
                                    
                                    <input id="header-search-field" type="text" placeholder="Search 'dev' docs..." class="form-control hidden-xs" autocomplete="off">
                                </div>
                            </form>
                        </li>
                    </ul>
                </div>
            </div><!--/.navbar-collapse -->
        </div>
    </nav>
    <div id="_fixed_navbar_spacer" style="padding-top:50px"></div>
</header>














<div class="docs container">

    <!-- Table of Contents -->
    <div class="hidden-xs hidden-sm col-md-4 col-lg-3 site-toc-container">
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                Yocto layers
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/AGL.html">
                AGL Overview
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/meta-agl.html">
                meta-agl
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/meta-agl-demo.html">
                meta-agl-demo
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/meta-agl-devel.html">
                meta-agl-devel
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Host Configuration
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/host-configuration/docs/0_Abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/host-configuration/docs/1_Prerequisites.html">
                Prerequisites
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/host-configuration/docs/2_AGL_Application_Framework.html">
                AGL Application Framework
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/host-configuration/docs/3_Binding_Build_Example.html">
                Binding Build Example
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/host-configuration/docs/4_AGL_XDS.html">
                AGL XDS
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/host-configuration/docs/5_Candevstudio.html">
                CanDevStudio
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Usage of CMake Afb Template module
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/cmakeafbtemplates/0_Abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/cmakeafbtemplates/1_Quickstart.html">
                Quickstart
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/cmakeafbtemplates/2_project_architecture.html">
                Project architecture
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/cmakeafbtemplates/3_advanced_usage.html">
                Advanced usage
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/cmakeafbtemplates/4_advanced_customization.html">
                Advanced customization
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/cmakeafbtemplates/5_autobuild.html">
                The autobuild script
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                X(cross) Development System: User's Guide
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/0_Abstract.html">
                Getting Started
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Installing xds-server
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/1_install-xds-server.html">
                Installation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/1-1_install-xds-server-docker.html">
                Based on Docker container
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/1-2_install-xds-server-vm.html">
                Based on Virtual Machine appliance
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/1-3_install-xds-server-native.html">
                Native installation
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/2_install-client.html">
                Installing xds client tools
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/3_install-sdks.html">
                Installing AGL SDKs
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Create your first AGL application
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/4_build-first-app.html">
                Prerequisites
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/4-1_build-first-app-setup.html">
                Setup
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/4-2_build-first-app-cmd.html">
                Build using command line tool
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/4-3_build-first-app-dashboard.html">
                Build using XDS Dashboard
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/4-4_build-first-app-ide.html">
                Build using a source code editor / IDE
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Debug your first AGL application
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/5_debug-first-app.html">
                Prerequisites
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/5-1_debug-first-app-config.html">
                Configuration
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/5-2_debug-first-app-cmd.html">
                xds-gdb from command line
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-1/5-3_debug-first-app-ide.html">
                xds-gdb within an IDE
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                X(cross) Development System: Internals
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/0_Abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_Prerequisites.html">
                Prerequisites
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                XDS-server
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_xds-server/0_abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_xds-server/1_build.html">
                Build from scratch
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_xds-server/2_config.html">
                Configuration
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_xds-server/3_how-to-run.html">
                How to run
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_xds-server/4_debug.html">
                Debugging
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/1_xds-server/5_test.html">
                Test
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                XDS-agent
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/2_xds-agent/0_abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/2_xds-agent/1_build.html">
                Build from scratch
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/2_xds-agent/2_config.html">
                Configuration
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/2_xds-agent/3_start.html">
                Start
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/2_xds-agent/4_debug.html">
                Debugging
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                XDS-cli
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/3_xds-cli/0_abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/3_xds-cli/1_build.html">
                Build from scratch
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/3_xds-cli/2_config.html">
                Configuration
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/3_xds-cli/3_commands.html">
                CLI Commands
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/3_xds-cli/4_debug.html">
                Debugging
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                XDS-gdb
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/4_xds-gdb/0_abstract.html">
                Abstract
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/4_xds-gdb/1_build.html">
                Build from scratch
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/4_xds-gdb/2_config.html">
                Configuration
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/xds/part-2/4_xds-gdb/3_debug.html">
                Debugging
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Guides
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/iotbzh2016/appfw/03-AGL-AppFW-Privileges-Management.pdf">
                AppFW - Privileges Management
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Controller Guide
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/ctrler/controller.html">
                Installation
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/ctrler/controllerConfig.html">
                Binding Configuration
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/ctrler/Usage.html">
                Usage
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/ctrler/configSample.html">
                Configuration Sample
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                AFB Helper functions reference
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/usage.html">
                Usage
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/afb-timer.html">
                AFB Timer
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/curl-wrap.html">
                CURL wrapper
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/escape.html">
                URL escaping
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/filescan-utils.html">
                Filescan Utils
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/qafbwebsocketclient.html">
                Qt AFB Websocket client
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/json.html">
                JSON library for modern C++
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/afb-helpers/wrap-json.html">
                C JSON Wrapper
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    

    <li>
        
            <span class="toc-section-heading">
                Continuous Integration - Automated Testing (CIAT)
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <span class="toc-section-heading">
                Training
            </span>
        

        
        

        
        <ul class="site-toc">
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/CIAT/training/How_to_write_your_own_tests_for_AGL.pdf">
                How to write tests (overview slides)
            </a>
            
        

        
        

        
    </li>
    

    <li>
        
            <a class="" href="/guppy/docs/devguides/en/dev/reference/CIAT/training/Hands_on_lab_documentation.pdf">
                How to write tests (detailed)
            </a>
            
        

        
        

        
    </li>
    
</ul>

        
    </li>
    
</ul>

        
    </li>
    
</ul>

    </div>

    <!-- Page content -->
    <div class="col-md-8 col-md-offset-4 col-lg-9 col-lg-offset-3 page-content-container container">
        <div class="page-content row">
            <div class="col-md-offset-1 col-md-10">
                <div class="content-header">

                    <!-- ToC Dropdown (for XS and SM sizes only) -->
                    <div class="toc-dropdown dropdown visible-xs-block visible-sm-block">
                        <button class="btn btn-default dropdown-toggle" type="button" id="tocDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Table of Contents
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu">
                            






<li>
    <a class="" href="reference/AGL.html">
        AGL Overview
    </a>
</li>




<li>
    <a class="" href="reference/meta-agl.html">
        meta-agl
    </a>
</li>




<li>
    <a class="" href="reference/meta-agl-demo.html">
        meta-agl-demo
    </a>
</li>




<li>
    <a class="" href="reference/meta-agl-devel.html">
        meta-agl-devel
    </a>
</li>











<li>
    <a class="" href="reference/host-configuration/docs/0_Abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/host-configuration/docs/1_Prerequisites.html">
        Prerequisites
    </a>
</li>




<li>
    <a class="" href="reference/host-configuration/docs/2_AGL_Application_Framework.html">
        AGL Application Framework
    </a>
</li>




<li>
    <a class="" href="reference/host-configuration/docs/3_Binding_Build_Example.html">
        Binding Build Example
    </a>
</li>




<li>
    <a class="" href="reference/host-configuration/docs/4_AGL_XDS.html">
        AGL XDS
    </a>
</li>




<li>
    <a class="" href="reference/host-configuration/docs/5_Candevstudio.html">
        CanDevStudio
    </a>
</li>











<li>
    <a class="" href="reference/cmakeafbtemplates/0_Abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/cmakeafbtemplates/1_Quickstart.html">
        Quickstart
    </a>
</li>




<li>
    <a class="" href="reference/cmakeafbtemplates/2_project_architecture.html">
        Project architecture
    </a>
</li>




<li>
    <a class="" href="reference/cmakeafbtemplates/3_advanced_usage.html">
        Advanced usage
    </a>
</li>




<li>
    <a class="" href="reference/cmakeafbtemplates/4_advanced_customization.html">
        Advanced customization
    </a>
</li>




<li>
    <a class="" href="reference/cmakeafbtemplates/5_autobuild.html">
        The autobuild script
    </a>
</li>











<li>
    <a class="" href="reference/xds/part-1/0_Abstract.html">
        Getting Started
    </a>
</li>








<li>
    <a class="" href="reference/xds/part-1/1_install-xds-server.html">
        Installation
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/1-1_install-xds-server-docker.html">
        Based on Docker container
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/1-2_install-xds-server-vm.html">
        Based on Virtual Machine appliance
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/1-3_install-xds-server-native.html">
        Native installation
    </a>
</li>







<li>
    <a class="" href="reference/xds/part-1/2_install-client.html">
        Installing xds client tools
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/3_install-sdks.html">
        Installing AGL SDKs
    </a>
</li>








<li>
    <a class="" href="reference/xds/part-1/4_build-first-app.html">
        Prerequisites
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/4-1_build-first-app-setup.html">
        Setup
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/4-2_build-first-app-cmd.html">
        Build using command line tool
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/4-3_build-first-app-dashboard.html">
        Build using XDS Dashboard
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/4-4_build-first-app-ide.html">
        Build using a source code editor / IDE
    </a>
</li>











<li>
    <a class="" href="reference/xds/part-1/5_debug-first-app.html">
        Prerequisites
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/5-1_debug-first-app-config.html">
        Configuration
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/5-2_debug-first-app-cmd.html">
        xds-gdb from command line
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-1/5-3_debug-first-app-ide.html">
        xds-gdb within an IDE
    </a>
</li>














<li>
    <a class="" href="reference/xds/part-2/0_Abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/1_Prerequisites.html">
        Prerequisites
    </a>
</li>








<li>
    <a class="" href="reference/xds/part-2/1_xds-server/0_abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/1_xds-server/1_build.html">
        Build from scratch
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/1_xds-server/2_config.html">
        Configuration
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/1_xds-server/3_how-to-run.html">
        How to run
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/1_xds-server/4_debug.html">
        Debugging
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/1_xds-server/5_test.html">
        Test
    </a>
</li>











<li>
    <a class="" href="reference/xds/part-2/2_xds-agent/0_abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/2_xds-agent/1_build.html">
        Build from scratch
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/2_xds-agent/2_config.html">
        Configuration
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/2_xds-agent/3_start.html">
        Start
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/2_xds-agent/4_debug.html">
        Debugging
    </a>
</li>











<li>
    <a class="" href="reference/xds/part-2/3_xds-cli/0_abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/3_xds-cli/1_build.html">
        Build from scratch
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/3_xds-cli/2_config.html">
        Configuration
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/3_xds-cli/3_commands.html">
        CLI Commands
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/3_xds-cli/4_debug.html">
        Debugging
    </a>
</li>











<li>
    <a class="" href="reference/xds/part-2/4_xds-gdb/0_abstract.html">
        Abstract
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/4_xds-gdb/1_build.html">
        Build from scratch
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/4_xds-gdb/2_config.html">
        Configuration
    </a>
</li>




<li>
    <a class="" href="reference/xds/part-2/4_xds-gdb/3_debug.html">
        Debugging
    </a>
</li>














<li>
    <a class="" href="reference/iotbzh2016/appfw/03-AGL-AppFW-Privileges-Management.pdf">
        AppFW - Privileges Management
    </a>
</li>











<li>
    <a class="" href="reference/ctrler/controller.html">
        Installation
    </a>
</li>




<li>
    <a class="" href="reference/ctrler/controllerConfig.html">
        Binding Configuration
    </a>
</li>




<li>
    <a class="" href="reference/ctrler/Usage.html">
        Usage
    </a>
</li>




<li>
    <a class="" href="reference/ctrler/configSample.html">
        Configuration Sample
    </a>
</li>











<li>
    <a class="" href="reference/afb-helpers/usage.html">
        Usage
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/afb-timer.html">
        AFB Timer
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/curl-wrap.html">
        CURL wrapper
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/escape.html">
        URL escaping
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/filescan-utils.html">
        Filescan Utils
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/qafbwebsocketclient.html">
        Qt AFB Websocket client
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/json.html">
        JSON library for modern C++
    </a>
</li>




<li>
    <a class="" href="reference/afb-helpers/wrap-json.html">
        C JSON Wrapper
    </a>
</li>















<li>
    <a class="" href="reference/CIAT/training/How_to_write_your_own_tests_for_AGL.pdf">
        How to write tests (overview slides)
    </a>
</li>




<li>
    <a class="" href="reference/CIAT/training/Hands_on_lab_documentation.pdf">
        How to write tests (detailed)
    </a>
</li>










                        </ul>
                    </div>

                    <!--
                    
                    
                        <a class="edit" href=""><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Edit</a>

                    
                    
                    -->

                    <!-- Language dropdown -->
                    <!--
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            
                            <span class="caret"></span>
                        </button>

                        <!-- List all languages - ->
                        <ul class="dropdown-menu" aria-labelledby="languageDropdown">
                            
                        </ul>
                    </div>
                    -->

                    <!-- Version dropdown -->
                    <!--
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="versionDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            dev
                            
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="versionDropdown">

                            <!-- List versions available in this language - ->
                            
                        </ul>
                    </div>
                    -->
                </div>
                

                
                
                

                
                

                <!-- Show warnings for special versions -->
                <!-- dev warning
                
                    <div class="alert docs-alert alert-info" role="alert">
                        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        Draft version of documentation under development may change!
                        <a href="/guppy/docs/devguides/en/dev/reference/ctrler/Usage.html">
                            Click here for the latest released version.
                        </a>
                    </div>
                
                -->

                <!-- outdated warning
                
                -->


                <div id="page-toc-source">
                    <!-- WARNING: This file is generated by fetch_docs.js using /w/workspace/daily-jjb-doc-multiversion-update/docs-webtemplate/guppy/content/tocs_guppy/devguides/fetched_files.yml -->

<h1 id="usage">Usage</h1>

<h2 id="optional-migrate-from-the-git-submodule-version">(Optional) Migrate from the git submodule version</h2>

<h3 id="remove-the-git-submodule-version">Remove the git submodule version</h3>

<p>If you already use the controller component but use the submodule version then
you have to get rid of it to be sure to link and use the library version. To do
so, you have to do the following:</p>

<ul>
  <li>deinitialize the submodule using <code class="highlighter-rouge">git</code></li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c"># This example assumes that the git submodule is named app-controller-submodule</span>
<span class="c"># and is located at your root project repository.</span>
git submodule deinit app-controller-submodule
</code></pre>
</div>

<ul>
  <li>remove the relative submodule lines from the <code class="highlighter-rouge">.gitmodules</code> file</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>vim .gitmodules
</code></pre>
</div>

<ul>
  <li>remove the <code class="highlighter-rouge">ctl-utilities</code> target link from any CMake target you specified.
 Those lines look like:</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>TARGET_LINK_LIBRARIES<span class="o">(</span><span class="k">${</span><span class="nv">TARGET_NAME</span><span class="k">}</span>
    ctl-utilities <span class="c"># REMOVE THIS LINE</span>
    <span class="k">${</span><span class="nv">link_libraries</span><span class="k">}</span>
    <span class="o">)</span>
</code></pre>
</div>

<h3 id="use-the-native-af-binder-functions">Use the native af-binder functions</h3>

<p>The controller redefined some binder’s functions to add an abstraction between
several binding versions. But now, as the controller is binding v3 only, the
abstraction layer from the controller has been removed and you should switch
your functions from the old controller’s definitions to binder’s definitions.</p>

<p>You have to replace any <code class="highlighter-rouge">include</code> statements of <code class="highlighter-rouge">afb-definitions.h</code> by
<code class="highlighter-rouge">afb/afb-binding.h</code> if you included it somewhere. If you have only included
<code class="highlighter-rouge">ctl-config.h</code> file then you are fine.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="gd">- #include &lt;afb-definitions.h&gt;
</span><span class="gi">+ #include &lt;afb/afb-binding.h&gt;
</span></code></pre>
</div>

<p>To help migrating gracefully the old controller’s definitions, you could use the
sed script to automate the migration for you. From your project root directory,
executes the following commands:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>wget -O controller-migration.sed https://iot.bzh/download/public/tools/controller-migration.sed
<span class="k">for </span>f <span class="k">in</span> <span class="k">$(</span>find . -name <span class="k">*</span>.c -o -name <span class="k">*</span>.h<span class="k">)</span>
<span class="k">do
</span>sed -i -rf controller-migration.sed  <span class="k">${</span><span class="nv">f</span><span class="k">}</span>
<span class="k">done</span>
</code></pre>
</div>

<blockquote>
  <p><strong>NOTE</strong>: <code class="highlighter-rouge">AFB_ServiceCall</code> and <code class="highlighter-rouge">AFB_ServiceSync</code> has been migrated to their
homologue <code class="highlighter-rouge">afb_api_call_legacy</code> and <code class="highlighter-rouge">afb_api_call_sync_legacy</code> respectively
but you have to be aware that they are <em>legacy</em> functions and you should use
the news call functions <code class="highlighter-rouge">afb_api_call</code> and <code class="highlighter-rouge">afb_api_call_sync</code> instead.
Cf <a href="../af-binder/reference-v3/func-api.html#calls-and-job-functions">Binder API functions reference</a>
for more details on these functions.</p>
</blockquote>

<p>As a reminder, here are the old controller’s functions definitions that you
should migrate:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>    <span class="cp">#define AFB_ReqNone NULL
</span>    <span class="k">typedef</span> <span class="n">afb_req_t</span>   <span class="n">AFB_ReqT</span><span class="p">;</span>
    <span class="k">typedef</span> <span class="n">afb_api_t</span>   <span class="n">AFB_ApiT</span><span class="p">;</span>
    <span class="k">typedef</span> <span class="n">afb_event_t</span> <span class="n">AFB_EventT</span><span class="p">;</span>

    <span class="cp">#define AFB_EventIsValid(eventid) eventid
</span>    <span class="cp">#define AFB_EventPush afb_event_push
</span>    <span class="cp">#define AFB_ReqSubscribe afb_req_subscribe
</span>    <span class="cp">#define AFB_EventMake(api, name) afb_api_make_event(api, name)
</span>
    <span class="cp">#define AFB_ReqJson(request) afb_req_json(request)
</span>
    <span class="cp">#define AFB_ReqSuccess  afb_req_success
</span>    <span class="cp">#define AFB_ReqSuccessF afb_req_success_f
</span>    <span class="cp">#define AFB_ReqFail     afb_req_fail
</span>    <span class="cp">#define AFB_ReqFailF    afb_req_fail_f
</span>
    <span class="cp">#define AFB_ReqNotice(request, ...)   AFB_REQ_NOTICE (request, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ReqWarning(request, ...)  AFB_REQ_WARNING (request, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ReqDebug(request, ...)    AFB_REQ_DEBUG (request, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ReqError(request, ...)    AFB_REQ_ERROR (request, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ReqInfo(request, ...)     AFB_REQ_INFO (request, __VA_ARGS__)
</span>
    <span class="cp">#define AFB_ApiVerbose(api, level, ...) afb_api_verbose(api, level, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ApiNotice(api, ...)   AFB_API_NOTICE (api, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ApiWarning(api, ...)  AFB_API_WARNING (api, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ApiDebug(api, ...)    AFB_API_DEBUG (api, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ApiError(api, ...)    AFB_API_ERROR (api, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ApiInfo(api, ...)     AFB_API_INFO (api, __VA_ARGS__)
</span>
    <span class="cp">#define AFB_GetApiSettings afb_api_settings
</span>
    <span class="cp">#define AFB_ReqIsValid(request)   request
</span>    <span class="cp">#define AFB_EvtIsValid(evtHandle) evtHandle
</span>
    <span class="cp">#define AFB_ServiceCall(api, ...) afb_api_call_legacy(api, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ServiceSync(api, ...) afb_api_call_sync_legacy(api, __VA_ARGS__)
</span>
    <span class="cp">#define AFB_ApiCall(api, ...) afb_api_call(api, __VA_ARGS__)
</span>    <span class="cp">#define AFB_ApiSync(api, ...) afb_api_call_sync(api, __VA_ARGS__)
</span>
    <span class="cp">#define AFB_ReqVCBData           afb_req_get_vcbdata
</span>    <span class="cp">#define AFB_ReqGetApi            afb_req_get_api
</span>    <span class="cp">#define AFB_GetEventLoop(api)    afb_api_get_event_loop(api)
</span>    <span class="cp">#define AFB_RootDirGetFD(api)    afb_api_rootdir_get_fd(api)
</span>    <span class="cp">#define AFB_RequireApi(api, ...) afb_api_require_api(api, __VA_ARGS__)
</span>
    <span class="cp">#define AFB_ClientCtxSet(request, replace, createCB, freeCB, handle) afb_req_context(request, replace, createCB, freeCB, handle)
</span>    <span class="cp">#define AFB_ClientCtxClear(request) afb_req_context_clear(request)
</span>
    <span class="cp">#define AFB_ReqSetLOA(request, level) afb_req_session_set_LOA(request, level)
</span>
    <span class="cp">#define AFB_NewApi afb_api_new_api
</span>
    <span class="cp">#define AFB_ApiAddVerb afb_api_add_verb
</span>
    <span class="cp">#define AFB_ApiSetUserData afb_api_set_userdata
</span>    <span class="cp">#define AFB_ApiGetUserData afb_api_get_userdata
</span>
    <span class="cp">#define AFB_ApiOnEvent afb_api_on_event
</span>    <span class="cp">#define AFB_ApiOnInit  afb_api_on_init
</span>    <span class="cp">#define AFB_ApiSeal    afb_api_seal
</span></code></pre>
</div>

<h2 id="add-libappcontroller-as-a-static-library-to-your-binding">Add libappcontroller as a static library to your binding</h2>

<p>In your <code class="highlighter-rouge">config.cmake</code> file, add a dependency to the controller library, i.e:</p>

<pre><code class="language-cmake">set(PKG_REQUIRED_LIST
	json-c
	afb-daemon
	appcontroller --&gt; this is the controller library dependency name.
)
</code></pre>

<p>Or you can also use the <a href="https://cmake.org/cmake/help/v3.6/command/find_package.html?highlight=find_package">FIND_PACKAGE</a>
CMake command to add it.</p>

<h2 id="declare-your-controller-config-section-in-your-binding">Declare your controller config section in your binding</h2>

<pre><code class="language-C">// CtlSectionT syntax:
// key: "section name in config file"
// loadCB: callback to process section
// handle: a void* pass to callback when processing section
static CtlSectionT ctlSections[]= {
    {.key="plugins" , .loadCB= PluginConfig, .handle= &amp;halCallbacks},
    {.key="onload"  , .loadCB= OnloadConfig},
    {.key="halmap"  , .loadCB= MapConfigLoad},
    {.key=NULL}
};

</code></pre>

<h2 id="do-the-controller-config-parsing-at-binding-pre-init">Do the controller config parsing at binding pre-init</h2>

<pre><code class="language-C">   // check if config file exist
    const char *dirList= getenv("CTL_CONFIG_PATH");
    if (!dirList) dirList=CONTROL_CONFIG_PATH;

    const char *configPath = CtlConfigSearch(apiHandle, dirList, "prefix");
    if(!confiPath) return -1;

    ctlConfig = CtlConfigLoad(dirList, ctlSections);
    if (!ctlConfig) return -1;
</code></pre>

<h2 id="execute-the-controller-config-during-binding-init">Execute the controller config during binding init</h2>

<pre><code class="language-C">  int err = CtlConfigExec (ctlConfig);
</code></pre>



                </div>
            </div>
        </div>
        <div class="row">
            <div class="blue-divider"></div>
<footer>
    <div class="container-fluid">
        <div class="row">
    <div class="col-sm-9">
        <h1>More Resources</h1>
        <div class="row">
            <div class="col-sm-4">
                <h2>General</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">AGL Developer Community</a>
                    </li>
                    <li>
                        <a href="https://www.automotivelinux.org/software/download/">Download Distribution</a>
                    </li>
                    <li>
                        <a href="https://gerrit.automotivelinux.org/gerrit/#/admin/projects/">Source Code on Git</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://lists.linuxfoundation.org/mailman/listinfo/automotive-discussions">Mailing List</a>
                    </li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Development</h2>
                <ul class="nav">
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/agl-distro/source-code">Source Code</a></li>
                    <li><a target="_blank" href="https://jira.automotivelinux.org/browse/SPEC/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel">Issue Tracker</a></li>
                    <li><a target="_blank" href="https://wiki.automotivelinux.org/">Wiki</a></li>
                    <li><a href="https://www.automotivelinux.org/contact">Contact</a></li>
                </ul>
            </div>
            <div class="col-sm-4">
                <h2>Automotive Grade Linux @ Linux Foundation</h2>
                <ul class="nav">
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/">About AGL</a>
                    </li>
                    <li>
                        <a target="_blank" href="http://www.linuxfoundation.org/">About Linux Foundation</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://wiki.automotivelinux.org/start/getting-started">Join AGL community</a>
                    </li>
                    <li>
                        <a target="_blank" href="https://www.automotivelinux.org/about/members">Members</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <h1>Contribute</h1>
        <p style="padding-top:20px"><strong>Help AGL move forward!</strong></p>
        <p>Report bugs, improve the docs, or contribute to the code.</p>
        <a href="/guppy/contribute" class="btn btn-lg btn-primary">
            Learn More
        </a>
        <p style="padding-top:20px"> <a href="https://twitter.com/autogradelinux" class="twitter-follow-button" data-show-count="false">Follow @autogradelinux</a></p>
    </div>
</div>
<div class="row">
	<div class="col-sm-9">
		<p class="copyright_text">
			Copyright &copy; 2015-2018 Automotive Grade Linux Documentation, Licensed under the <a target="_blank" href="http://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.
			<br/>
			Automotive Grade Linux and logos are <a target="_blank" href="http://www.linuxfoundation.org">trademarks</a> of The Linux Foundation.
			<br/>
			Initial site design from <a href="https://cordova.apache.org/">Cordova website.</a> - warm thanks !
		</p>
	</div>
    <div class="col-sm-3">
		<small class="stats">Page rendered at:  2019-03-09 07:55:02 +0000</small>
		
		<br/><small class="stats"><a href="https://git.automotivelinux.org/src/libappcontroller/plain/docs/Usage.md?h=guppy">Link to source document</small>
		
	</div>
</div>

    </div>
</footer>

        </div>
    </div>
</div>

<script defer type="text/javascript" src="/guppy/static/js/lib/toc.min.js"></script>
<script defer type="text/javascript" src="/guppy/static/js/docs.js"></script>

    <script defer type="text/javascript" src="/guppy/static/js/twitter.js"></script>
    



<script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
<script type="text/javascript">
    docsearch({
        apiKey: 'edd30bcff9f6df4b095c41cba3e5a418',
        indexName: 'automotivelinux',
        inputSelector: '#header-search-field',
    });
</script>

            
    

</body>
</html>
